(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{46:function(e,t,a){e.exports=a(93)},51:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),s=a.n(c),o=(a(51),a(17)),i=a(13),u=a(45),l=a(10),m=a.n(l),p=a(16),f=a(24),d=a(44),b=a(43),h=a.n(b),v=a(42),k=a.n(v),y=a(41),E=a.n(y),g=a(38),j=a.n(g),O=a(21),w=a.n(O),_=function(e){var t=e.items;return r.a.createElement("div",{className:"BooksList"},r.a.createElement(w.a,null,t&&t.length?t.map(function(e,t){return r.a.createElement(w.a.Item,{key:e.id,className:t%2?"BooksList__Item--Alternate":""},r.a.createElement("em",{className:"BooksList__Item__Id"},e.id)," ",r.a.createElement("span",{className:"BooksList__Item__Title"},e.book_title))}):r.a.createElement(j.a,{variant:"primary"},"No books found")))},N=a(22),I=Object(i.e)(function(e){for(var t=e.currentPage,a=e.history,n=e.totalPages,c=function(e){e.preventDefault();var t=parseInt(e.target.attributes.getNamedItem("data-id").value);a.push("/".concat(t))},s=[],o=t<=5?1:t-5;o<=Math.min(t+5,n);o++)s.push(r.a.createElement(N.Item,{key:o,"data-id":o,active:o===t,onClick:c},o));return r.a.createElement("div",{className:"Pagination"},r.a.createElement(N,{size:"md"},s))}),P=Object(i.e)(function(e){var t=e.history,a=e.match.params,c=(Object(d.a)(e,["history","match"]),Object(n.useRef)(null)),s=Object(n.useState)({books:[],count:0}),o=Object(f.a)(s,2),i=o[0],l=o[1],b=Object(n.useState)(""),v=Object(f.a)(b,2),y=v[0],g=v[1],j=parseInt(a.page)||1,O=function(){var e=Object(p.a)(m.a.mark(function e(a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:13===a.keyCode&&(g(c.current.value),t.push("/1"));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(p.a)(m.a.mark(function e(a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),g(c.current.value),t.push("/1");case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(m.a.mark(function e(t){var a,n,r,c,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.page,n=t.itemsPerPage,r=void 0===n?5:n,c={filters:[{type:"all",values:[y]}]},e.next=4,fetch("http://nyx.vima.ekt.gr:3000/api/books",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(u.a)({page:a,itemsPerPage:r},c))});case 4:return s=e.sent,e.t0=l,e.next=8,s.json();case 8:e.t1=e.sent,(0,e.t0)(e.t1);case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){function e(){return(e=Object(p.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N({page:j});case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[y,a]),r.a.createElement("div",{className:"Books"},r.a.createElement(E.a,{className:"mb-3"},r.a.createElement(k.a,{ref:c,placeholder:"Enter your query...","aria-label":"Filter query","aria-describedby":"basic-addon1",onKeyDown:O,autoFocus:!0})),r.a.createElement(h.a,{variant:"primary",onClick:w},"Filter"),r.a.createElement(_,{items:i.books}),r.a.createElement(I,{currentPage:j,totalPages:i.count/5}))});a(91),a(92);var x=function(){return r.a.createElement(o.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("h3",{className:"App__Header"},"Lukasz Wolnik's Greek book search"),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/:page?",component:P}))))};s.a.render(r.a.createElement(x,null),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.ce8a7c02.chunk.js.map